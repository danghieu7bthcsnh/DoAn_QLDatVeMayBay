@model QLDatVeMayBay.Models.VeMayBay

@{
    ViewData["Title"] = "Chỉnh sửa trạng thái vé";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";

    var trangThaiList = ViewBag.TrangThaiList as List<SelectListItem> ?? new List<SelectListItem>();
}

<div class="container mt-4">
    <h2 class="text-primary">✏️ Cập nhật trạng thái vé</h2>
    <hr />

    <div class="card shadow-lg">
        <div class="card-body">
            <form asp-action="Edit" method="post">
                <input type="hidden" name="id" value="@Model.IDVe" />

                <dl class="row">
                    <dt class="col-sm-3">👤 Người đặt</dt>
                    <dd class="col-sm-9">@Model.NguoiDung?.HoTen </dd>

                    <dt class="col-sm-3">📧 Email</dt>
                    <dd class="col-sm-9">@Model.NguoiDung?.Email</dd>

                    <dt class="col-sm-3">📞 Điện thoại</dt>
                    <dd class="col-sm-9">@Model.NguoiDung?.SoDienThoai</dd>

                    <dt class="col-sm-3">✈️ Chuyến bay</dt>
                    <dd class="col-sm-9">
                        @Model.ChuyenBay?.IDChuyenBay - @Model.ChuyenBay?.MayBay?.TenHangHK
                    </dd>

                    <dt class="col-sm-3">💺 Hạng ghế</dt>
                    <dd class="col-sm-9">@Model.Ghe?.HangGhe </dd>

                    <dt class="col-sm-3">🕒 Thời gian đặt</dt>
                    <dd class="col-sm-9">@Model.ThoiGianDat.ToString("dd/MM/yyyy HH:mm")</dd>

                    <dt class="col-sm-3">📌 Trạng thái hiện tại</dt>
                    <dd class="col-sm-9">
                        <span class="badge
                            @(Model.TrangThaiVe == "Đã thanh toán" ? "bg-success" :
                                                            Model.TrangThaiVe == "Chưa thanh toán" ? "bg-warning text-dark" :
                                                            "bg-danger")">
                            @Model.TrangThaiVe
                        </span>
                    </dd>
                </dl>

                <div class="mb-3">
                    <label for="trangThaiVe" class="form-label">📝 Chọn trạng thái mới</label>
                    @Html.DropDownList(
                                        "trangThaiVe",
<<<<<<< Updated upstream
                                        (List<SelectListItem>)ViewBag.TrangThaiList,
                                        "-- Chọn trạng thái mới --",
                                        new { @class = "form-select", required = "required" }
                                        )
                    @Html.ValidationMessage("trangThaiVe", null, new { @class = "text-danger" })
=======
                                        trangThaiList,
                                        "-- Chọn trạng thái mới --",
                                        new { @class = "form-select", required = "required" }
                                        )
                    <span class="text-danger">
                        @Html.ValidationMessage("trangThaiVe")
                    </span>
>>>>>>> Stashed changes
                </div>

                <div class="d-flex justify-content-between">
                    <a asp-action="Index" class="btn btn-secondary">⬅️ Quay lại</a>
                    <button type="submit" class="btn btn-primary">💾 Lưu thay đổi</button>
                </div>
            </form>
        </div>
    </div>
</div>
    <style>
    /* Bao quanh toàn bộ container */
    .container.mt-4 {
        max-width: 700px;
    }

    /* Tiêu đề */
    h2.text-primary {
        font-weight: 700;
        font-size: 1.8rem;
        margin-bottom: 1rem;
        border-bottom: 2px solid #0d6efd;
        padding-bottom: 0.3rem;
    }

    /* Card bo tròn và đổ bóng */
    .card.shadow-lg {
        border-radius: 12px;
        box-shadow: 0 0.75rem 1.5rem rgba(13, 110, 253, 0.2);
    }

    /* Các dòng thông tin (dl dt dd) */
    dl.row dt {
        font-weight: 600;
        color: #0d6efd;
        margin-bottom: 0.5rem;
        font-size: 1rem;
    }

    dl.row dd {
        font-size: 1rem;
        margin-bottom: 0.75rem;
    }

    /* Badge trạng thái */
    .badge {
        font-size: 1rem;
        padding: 0.5em 0.75em;
        border-radius: 0.5rem;
    }

    /* Label cho dropdown */
    .form-label {
        font-weight: 600;
        font-size: 1rem;
        color: #212529;
    }

    /* Nút */
    .btn-primary {
        background-color: #0d6efd;
        border-color: #0d6efd;
        font-weight: 600;
        transition: background-color 0.3s ease;
    }

        .btn-primary:hover {
            background-color: #0b5ed7;
            border-color: #0b5ed7;
        }

    .btn-secondary {
        font-weight: 600;
    }

    /* Khoảng cách giữa các phần tử trong form */
    .mb-3 {
        margin-bottom: 1.5rem !important;
    }

    /* Validation message */
    .text-danger {
        font-size: 0.875rem;
        margin-top: 0.25rem;
        display: block;
    }
    </style>






@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
